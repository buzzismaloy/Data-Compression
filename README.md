# Проект: Кодирование Хаффмана

Этот проект реализует алгоритм кодирования Хаффмана.

## Содержание

- [Описание проекта](#описание-проекта)
- [Модули проекта](#модули-проекта)
  - [Основная программа (main.c)](#основная-программа-mainc)
  - [Структуры данных (structures.h)](#структуры-данных-structuresh)
  - [Функции кодирования Хаффмана (HuffmanCode.h)](#функции-кодирования-хаффмана-huffmancodeh)
- [Использование](#использование)
- [Примеры ввода и вывода](#примеры-ввода-и-вывода)

## Описание проекта

Проект Кодирования Хаффмана предоставляет утилиту для сжатия и распаковки файлов с использованием кодирования Хаффмана. Включает функции для:
- Анализа файла и вычисления частот символов.
- Построения дерева Хаффмана на основе частот символов.
- Кодирования файла в сжатый формат.
- Декодирования сжатого файла в исходный формат.

## Модули проекта

### Основная программа (main.c)

Основной модуль управляет входной точкой программы и координирует процессы сжатия и распаковки.

#### Функции в `main.c`:

- **`calculateFrequency(FILE* file, int frequency[])`**: Вычисляет частоту каждого символа в входном файле.
- **`printFrequencyTable(int frequency[])`**: (Отладка) Печатает таблицу частот символов.
- **`freeTree(HuffmanNode* root)`**: Освобождает память, занятую деревом Хаффмана.
- **`printCodes(char codes[CHAR_COUNT][CHAR_COUNT], int frequency[])`**: (Опционально) Печатает сгенерированные коды Хаффмана.
- **`encodeFile(FILE *inFile, FILE *outFile, char codes[CHAR_COUNT][CHAR_COUNT])`**: Кодирует входной файл с использованием кодов Хаффмана и записывает результат в выходной файл.
- **`decodeFile(FILE* encodedFile, FILE* decodedFile, HuffmanNode* root)`**: Декодирует сжатый файл в исходное содержимое.
- **`writeTree(FILE* outFile, HuffmanNode* root)`**: Сериализует структуру дерева Хаффмана в файл.
- **`readTree(FILE* inFile)`**: Считывает и восстанавливает дерево Хаффмана из файла.

### Структуры данных (structures.h)

Предоставляет базовые структуры для кодирования Хаффмана.

#### Структуры данных:

- **`HuffmanNode`**: Представляет узел в дереве Хаффмана. Каждый узел содержит:
  - `character`: Символ, который он представляет (или `\0` для внутренних узлов).
  - `frequency`: Частота символа.
  - `left, right`: Указатели на левого и правого дочерние узлы.
- **`MinHeap`**: Мин-куча, используемая для построения дерева Хаффмана.
  - `size`: Текущий размер кучи.
  - `capacity`: Максимальная вместимость кучи.
  - `array`: Массив указателей на `HuffmanNode`.

#### Функции в `structures.h`:

- **`createNode(char character, int frequency)`**: Создает новый узел дерева Хаффмана.
- **`createMinHeap(int capacity)`**: Создает пустую мин-кучу.
- **`insertMinHeap(MinHeap* minHeap, HuffmanNode* node)`**: Вставляет узел в мин-кучу.
- **`extractMin(MinHeap* minHeap)`**: Удаляет и возвращает наименьший узел из кучи.
- **`minHeapify(MinHeap* minHeap, int index)`**: Поддерживает свойство мин-кучи.

### Функции кодирования Хаффмана (HuffmanCode.h)

Реализует процессы кодирования и декодирования Хаффмана.

#### Функции в `HuffmanCode.h`:

- **`buildHuffmanTree(int frequency[])`**: Строит дерево Хаффмана на основе таблицы частот.
- **`generateCodes(HuffmanNode* root, char* code, int top, char codes[CHAR_COUNT][CHAR_COUNT])`**: Генерирует коды Хаффмана для каждого символа.

## Использование

1. **Клонирование репозитория**:
   ```bash
   git clone https://github.com/buzzismaloy/Huffman-Coding.git
   ```
2. **Сборка программы**:
   ```bash
   gcc main.c -o huffman
   ```
3. **Запуск программы**:
   - Для сжатия файла:
     ```bash
     ./huffman -c <input_file> <output_file>
     ```
   - Для распаковки файла:
     ```bash
     ./huffman -d <input_file> <output_file>
     ```
